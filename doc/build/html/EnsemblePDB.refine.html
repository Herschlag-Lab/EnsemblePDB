

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>EnsemblePDB.refine package &mdash; EnsemblePDB 0.1.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="EnsemblePDB.search package" href="EnsemblePDB.search.html" />
    <link rel="prev" title="EnsemblePDB.build package" href="EnsemblePDB.build.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="modules.html" class="icon icon-home"> EnsemblePDB
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="EnsemblePDB.html">EnsemblePDB package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="EnsemblePDB.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="EnsemblePDB.analyze.html">EnsemblePDB.analyze package</a></li>
<li class="toctree-l3"><a class="reference internal" href="EnsemblePDB.build.html">EnsemblePDB.build package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">EnsemblePDB.refine package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-EnsemblePDB.refine.filter">EnsemblePDB.refine.filter module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-EnsemblePDB.refine">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="EnsemblePDB.search.html">EnsemblePDB.search package</a></li>
<li class="toctree-l3"><a class="reference internal" href="EnsemblePDB.utils.html">EnsemblePDB.utils package</a></li>
<li class="toctree-l3"><a class="reference internal" href="EnsemblePDB.visualize.html">EnsemblePDB.visualize package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="EnsemblePDB.html#module-EnsemblePDB">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="modules.html">EnsemblePDB</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="modules.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="EnsemblePDB.html">EnsemblePDB package</a> &raquo;</li>
        
      <li>EnsemblePDB.refine package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/EnsemblePDB.refine.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ensemblepdb-refine-package">
<h1>EnsemblePDB.refine package<a class="headerlink" href="#ensemblepdb-refine-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-EnsemblePDB.refine.filter">
<span id="ensemblepdb-refine-filter-module"></span><h2>EnsemblePDB.refine.filter module<a class="headerlink" href="#module-EnsemblePDB.refine.filter" title="Permalink to this headline">¶</a></h2>
<p>pseudo_ensemble.refine.filter_ensemble</p>
<p>Functions to filter ensemble summary reports by organisms, keywords, mutations, resolution.</p>
<dl class="simple">
<dt>Authors:</dt><dd><p>Rachael Kretsch (<a class="reference external" href="mailto:rkretsch&#37;&#52;&#48;stanford&#46;edu">rkretsch<span>&#64;</span>stanford<span>&#46;</span>edu</a>)
Siyuan Du (<a class="reference external" href="mailto:dusiyuan&#37;&#52;&#48;stanford&#46;edu">dusiyuan<span>&#64;</span>stanford<span>&#46;</span>edu</a>)
Jacob Parres-Gold</p>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="EnsemblePDB.refine.filter.check_mutations">
<span class="sig-prename descclassname"><span class="pre">EnsemblePDB.refine.filter.</span></span><span class="sig-name descname"><span class="pre">check_mutations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_muts</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#EnsemblePDB.refine.filter.check_mutations" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply on rows of dataframes to check whether the protein has mutation exceeding (&gt;=) max mutation limit
:param x:
:type x: row of dataframe
:param name: protein name.
:type name: str
:param max_muts: maximum mutation number</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="EnsemblePDB.refine.filter.contains_keyword">
<span class="sig-prename descclassname"><span class="pre">EnsemblePDB.refine.filter.</span></span><span class="sig-name descname"><span class="pre">contains_keyword</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rscb-polymer-entity:</span> <span class="pre">description'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#EnsemblePDB.refine.filter.contains_keyword" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply on rows of dataframes, filter any entry (row) where description of chain does not contain the input content.
Assumes the first polymer entity is always the major protein (not ligand).
Case insentitive.
:param x:
:type x: row of dataframe
:param name: the keyword to filter with.
:type name: str
:param col: column to filter the keyword on
:type col: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="EnsemblePDB.refine.filter.filter_pdb_data">
<span class="sig-prename descclassname"><span class="pre">EnsemblePDB.refine.filter.</span></span><span class="sig-name descname"><span class="pre">filter_pdb_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">summary_report_csv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protein_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_terms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">organism</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_muts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#EnsemblePDB.refine.filter.filter_pdb_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a csv from a pdb search and filters according to user-specified
metrics. Saves a csv with columns for the filter results and a csv
with only the structures that passed all filters.
:param summary_report_csv: The path to csv file of summary report
:type summary_report_csv: str
:param protein_names: Name of the protein
:type protein_names: str
:param (optional):
:param exclude_terms: terms to exclude from entity descriptions {default: None}
:type exclude_terms: list of strings
:param max_res: Maximum high-limit resolution to allow
:type max_res: float
:param organism: names of source organism {default: None}
:type organism: list of strings
:param max_muts: maximum number of mutations allowed for the protein {default: None}
:type max_muts: int
:param refs_for_gaps = reference for sequence input should be input_# {default: None}
:param output_directory: path to save filtered csvs to. Default saves to the same directory that summary_report_csv is in {default: None}.
:type output_directory: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dataframe, filtered summary report</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="EnsemblePDB.refine.filter.wrong_organism">
<span class="sig-prename descclassname"><span class="pre">EnsemblePDB.refine.filter.</span></span><span class="sig-name descname"><span class="pre">wrong_organism</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orgs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#EnsemblePDB.refine.filter.wrong_organism" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply on rows of dataframes to check whether the protein is from a given organism
:param x:
:type x: row of dataframe
:param name: protein name.
:type name: str
:param org: organism scientific names
:type org: list</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-EnsemblePDB.refine">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-EnsemblePDB.refine" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="EnsemblePDB.search.html" class="btn btn-neutral float-right" title="EnsemblePDB.search package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="EnsemblePDB.build.html" class="btn btn-neutral float-left" title="EnsemblePDB.build package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Herschlag Lab.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>